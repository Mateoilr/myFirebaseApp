<ion-header class="no-shadow"></ion-header>
<ion-content fullscreen class="login-full-bg">
  <div class="login-flex-container">
    <div class="login-image-col">
      <img src="assets/Mobile-login.png" alt="Persona usando una laptop y sonriendo en un espacio moderno y luminoso con el texto motivacional 'Bienvenido de nuevo' en la pared, transmitiendo un ambiente amigable y acogedor" class="login-illustration" />
    </div>
    <div class="login-form-col">
      <div class="login-card">
        <h2 class="login-title">Bienvenido <span class="brand-title"></span></h2>

        <!-- Formulario de login -->
        <form [formGroup]="loginForm" (ngSubmit)="loginEmail()">
          <div class="input-item">
            <span class="input-icon">
              <i class="fa fa-envelope"></i>
            </span>
            <input
              placeholder="Correo electrónico"
              formControlName="email"
              type="email"
              required
              class="input-field"
            />
            <span *ngIf="loginForm.get('email')?.invalid && loginForm.get('email')?.touched" class="input-error-msg">
              Ingresa un correo válido.
            </span>
          </div>
          <div class="input-item">
            <span class="input-icon">
              <i class="fa fa-key"></i>
            </span>
            <input
              [type]="showPassword ? 'text' : 'password'"
              placeholder="Contraseña"
              formControlName="password"
              required
              class="input-field"
            />
            <span
              class="toggle-password"
              (click)="togglePasswordVisibility()"
              [title]="showPassword ? 'Ocultar contraseña' : 'Mostrar contraseña'"
            >
              <i [class]="showPassword ? 'fa fa-eye-slash' : 'fa fa-eye'"></i>
            </span>
            <span *ngIf="loginForm.get('password')?.invalid && loginForm.get('password')?.touched" class="input-error-msg">
              Ingresa tu contraseña.
            </span>
          </div>
          <button type="submit" class="login-btn">Iniciar sesión</button>
        </form>

        <div class="divider">
          <hr>
          <span>O</span>
          <hr>
        </div>

        <!-- Botones sociales con iconos y sombra -->
        <button expand="full" fill="solid" class="social-btn google" (click)="loginGoogle()">
          <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" class="social-icon" alt="Google" />
          INICIAR CON GOOGLE
        </button>
        <button expand="full" fill="solid" class="social-btn facebook" (click)="loginFacebook()">
          <img src="https://upload.wikimedia.org/wikipedia/commons/0/05/Facebook_Logo_%282019%29.png" class="social-icon" alt="Facebook" />
          INICIAR CON FACEBOOK
        </button>

        <div *ngIf="error" class="error-msg">{{ error }}</div>
        <div class="register-row">
          <span>¿No tienes una cuenta?</span>
          <a (click)="goToRegister()" class="register-link">Regístrate</a>
        </div>
      </div>
    </div>
  </div>
</ion-content>
