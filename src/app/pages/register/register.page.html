<ion-header class="no-shadow"></ion-header>
<ion-content fullscreen class="login-full-bg">
  <div class="login-flex-container">
    <div class="login-image-col">
      <img src="assets/img.png" alt="Registro de usuario" class="login-illustration" />
    </div>
    <div class="login-form-col">
      <div class="login-card">
        <h2 class="login-title">Crea tu cuenta <span class="brand-title"></span></h2>

        <!-- Formulario de registro -->
        <form [formGroup]="registerForm" (ngSubmit)="registerEmail()">
          <div class="input-item">
            <span class="input-icon">
              <i class="fa fa-envelope"></i>
            </span>
            <input
              placeholder="Email"
              formControlName="email"
              type="email"
              required
              class="input-field"
            />
            <span *ngIf="registerForm.get('email')?.invalid && registerForm.get('email')?.touched" class="input-error-msg">
              Email inválido.
            </span>
          </div>
          <div class="input-item">
            <span class="input-icon">
              <i class="fa fa-key"></i>
            </span>
            <input
              [type]="showPassword ? 'text' : 'password'"
              placeholder="Contraseña"
              formControlName="password"
              required
              class="input-field"
            />
            <span
              class="toggle-password"
              (click)="togglePasswordVisibility()"
              [title]="showPassword ? 'Ocultar contraseña' : 'Mostrar contraseña'"
            >
              <i [class]="showPassword ? 'fa fa-eye-slash' : 'fa fa-eye'"></i>
            </span>
            <span *ngIf="registerForm.get('password')?.invalid && registerForm.get('password')?.touched" class="input-error-msg">
              Mínimo 6 caracteres.
            </span>
          </div>
          <button type="submit" class="login-btn">Registrarse</button>
        </form>

        <div class="divider">
          <hr>
          <span>O</span>
          <hr>
        </div>

        <!-- Botones sociales -->
        <button expand="full" fill="solid" class="social-btn google" (click)="registerGoogle()">
          <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" class="social-icon" alt="Google" />
          REGISTRARSE CON GOOGLE
        </button>
        <button expand="full" fill="solid" class="social-btn facebook" (click)="registerFacebook()">
          <img src="https://upload.wikimedia.org/wikipedia/commons/0/05/Facebook_Logo_%282019%29.png" class="social-icon" alt="Facebook" />
          REGISTRARSE CON FACEBOOK
        </button>

        <div *ngIf="success" class="success-msg">{{ success }}</div>
        <div *ngIf="error" class="error-msg">{{ error }}</div>
        <div class="register-row">
          <span>¿Ya tienes cuenta?</span>
          <a (click)="goToLogin()" class="register-link">Inicia sesión</a>
        </div>
      </div>
    </div>
  </div>
</ion-content>
